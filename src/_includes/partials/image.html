{% comment %}
  Responsive images. For use in posts inside 11ty/liquid markdown.

  Example:
  {% include image.html name: "" caption: "test" %}
  this will grab the first image used also in the post header

  or

  {% include image.html, name: "-04", caption: "test" %}
  this will grab the 4th image
{% endcomment %}

{% comment %}
  2do:
  Write the caption into a file with same name as image (image.md)
  Develop the code to suck it here as caption (as kirby does!)
  It'd be very convenient as to write the caption you have to go see the image anyway...
  (180604 - tried w/ Jekyll, but it looks impossible, maybe can using 11ty js...)
{% endcomment %}

<figure class="post_content_image">
  {% comment %}assign the page image and split at the extension dot{% endcomment %}
  {% capture image_name %}{{ cover_image | replace: ".jpg", "" }}{% endcapture %}{% assign f = image_name %}<img
  data-zoomable="true"
  loading="lazy"
  src="{{ f }}{{ name }}-640.jpg"
    srcset="{{ f }}{{ name }}-640.jpg 640w,
           {{ f }}{{ name }}-880.jpg 880w,
           {{ f }}{{ name }}-1024.jpg 1024w,
           {{ f }}{{ name }}-1920.jpg 1920w"
    sizes="100vw"
    alt="{{ site.title }} - {{ title }} {% if photographer %}- photo by {{ photographer | upcase }}{% endif %}" />

    {%- if caption -%}
    <figcaption><strong>{{ caption }}</strong></figcaption>
    {%- endif -%}

 </figure>
